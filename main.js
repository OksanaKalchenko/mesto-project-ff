(()=>{"use strict";function e(e,t,n){var o=t.querySelector(".card").cloneNode(!0),r=o.querySelector(".card__delete-button"),c=o.querySelector(".card__image"),i=o.querySelector(".card__like-button");return o.querySelector(".card__title").textContent=e.name,c.src=e.link,c.alt=e.name,r.addEventListener("click",(function(){n.deleteCard(o)})),c.addEventListener("click",(function(){n.openPopupImage(e)})),i.addEventListener("click",n.likeCard),o}function t(e){e.classList.add("popup_is-opened"),e.addEventListener("click",r),document.addEventListener("keydown",o)}function n(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",o)}function o(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");t&&n(t)}}function r(e){e.target===e.currentTarget&&n(e.currentTarget)}var c=document.querySelector("#card-template").content,i=document.querySelector(".places__list"),a=document.querySelector(".popup_type_edit"),u=document.querySelector(".popup_type_new-card"),p=document.querySelector(".popup_type_image"),d=p.querySelector(".popup__image"),l=p.querySelector(".popup__caption"),s=document.querySelector(".profile__edit-button"),f=document.querySelector(".profile__add-button"),m=document.querySelectorAll(".popup__close"),_=document.forms["edit-profile"],v=document.forms["new-place"],y=document.querySelector(".profile__title"),J=document.querySelector(".profile__description"),w={deleteCard:function(e){e.remove()},openPopupImage:function(e){d.src=e.link,d.alt=e.name,l.textContent=e.name,t(p)},likeCard:function(e){e.target.classList.toggle("card__like-button_is-active")}};_.addEventListener("submit",(function(e){e.preventDefault(),y.textContent=_.name.value,J.textContent=_.description.value,n(a)})),v.addEventListener("submit",(function(t){t.preventDefault();var o=e({name:v["place-name"].value,link:v.link.value},c,w);i.prepend(o),v.reset(),n(u)})),document.querySelectorAll(".popup").forEach((function(e){e.classList.add("popup_is-animated")})),m.forEach((function(e){var t=e.closest(".popup");e.addEventListener("click",(function(){n(t)}))})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Томск",link:"https://images.unsplash.com/photo-1595705888552-4569e08ff98d?w=1600&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8JUQxJTgyJUQwJUJFJUQwJUJDJUQxJTgxJUQwJUJBfGVufDB8fDB8fHww"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://images.unsplash.com/photo-1645016978367-5a81d12f915d?w=1400&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8JUQwJUJBJUQwJUIwJUQwJUJDJUQxJTg3JUQwJUIwJUQxJTgyJUQwJUJBJUQwJUIwfGVufDB8fDB8fHww"},{name:"Санкт-Петербург",link:"https://images.unsplash.com/photo-1556610961-2fecc5927173?w=1400&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8c2FpbnQlMjBwZXRlcnNidXJnfGVufDB8fDB8fHww"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(t){var n=e(t,c,w);i.append(n)})),s.addEventListener("click",(function(){_.name.value=y.textContent,_.description.value=J.textContent,t(a)})),f.addEventListener("click",(function(){t(u)}))})();